<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes Codevanilla_Utile Classes Classes Codevanilla_Utile × Search results Close Documentation generated by JSDoc 3.5.5 on September 28th 2017, 2:33:15 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes Codevanilla_Utile Welcome to Utile This is a bit of a mishmash of utilities that I am gradually pulling together into one js file for convenience. Uitle is latin for useful thing in case you are wondering. Currently it contains the following methods: doAjax - General function for sending and receiving via ajax to REST or any other JSON service (relies) on bootbox to show errors docs formatDateAsDaysSince - a pretty date function you give it a date string('Fri Sep 30 2016 12:54:08 GMT+0100 (BST)') and it returns a more human respons such as yesterday or 2 months ago buildSelector - builds a select box from data (an array of objects containing records) buildTable - builds a table using data (an array of objects containing records) that is shaped by a configuration object buildTableRows - builds table rows using data and a configuration object nl2br - converts the line breaks into br tags br2nl - converts the br tags into line breaks indRowBykey - returns a row from an array of rows given a filed key and a value for that key extractValuesByKey - takes an array of objects and outputs an array of values for a key in each object You can see all the docs with a little bit of explanation here You can install it using bower bower install codevanilla_utileRow Definition for tables In order to use buildTable() or buildTableRows() you need to pass it a configuration object. This object defines how your table with look - The header text and its sortability, which fields or values to use for each cell in each row of data, and what method to invoke on click or hover. The row definition object is an array where each object in the array represents a column var rowDef=[ {header:{title:'column 1'}}, {header:{title:'column 2',sortField:'a_data_field'}}, {header:{title:'column 3'}} ] column 1 column 2 column 3 Each column object will have the following properties: header This property defines the content and interaction of header (&lt;th&gt;) for the column. It contains the following:-` An object containing a title property and optionally a sortField property. header:{title:'column header',sortField:'a_data_field'}display This property defines what is shown in the table cell (&lt;td&gt;) for each column. An array of objects that concatenate together in the td. You can pass three types of object: 1 literal - this places a literal string in the td display:[literal:' &amp; '}]2 row - this looks up the value (in the data row) using the key and places that in the td display:[{row:'firstName'},{literal:' '},{row:'lastName'}]3 function - This places the product of a function into the td. It has two properties the first is the reference to a function and the second is args which is an array of objects describing the arguments to be passed to the function. These function argument objects have two properties: type and value. type is currently 'lookup' or 'literal'. literal simply passes whatever is in the value property fo the object into the function. Lookup passes whatever the value of the key in the data row display:[{formatDateAsDaysSince,args:[{type:'lookup',value:'last_login'},{type:'literal',value:true}]}]action The action property is where you can set an event handler the value of this property is an object. The action property can be an array or a single object containing the following properties: type - the type of event such as 'click' func - a reference to a funciton args - the arguments passed to the function action:{type:'click',func:getAccount,args:[{type:'lookup',value:'id'}]}ClassName This defines any classes you want to apply to a td × Search results Close Documentation generated by JSDoc 3.5.5 on September 28th 2017, 2:33:15 pm using the DocStrap template. "},"Codevanilla_Utile.html":{"id":"Codevanilla_Utile.html","title":"Class: Codevanilla_Utile","body":" Documentation Classes Codevanilla_Utile Class: Codevanilla_Utile Codevanilla_Utile new Codevanilla_Utile() Methods &lt;inner&gt; addTitleAttr(string, title) Takes a string and converts it into a span (jQuery object) and adds a title attribute Useful when you want to highlight text. If you are using bootstrap it will force it to be a tooltip Parameters: Name Type Description string string The text in the span title string The value of title attribute Returns: A span Type * | jQuery &lt;inner&gt; br2nl(html) Converts the br tags in a string into line breaks Parameters: Name Type Description html string the sting that you want to convert &lt;inner&gt; buildPaginationUI(target, pagniationObj, clickFunction) Builds a pagination button (if required), that updates the passed pagination object.offset and inserts it into the DOM attaching it to the target Parameters: Name Type Description target string jquery selector to add the more... button to pagniationObj object pagniation object consists of offset and limit clickFunction function the function fired by the button &lt;inner&gt; buildSelector(arr, label [, id] [, idfield]) Builds a select element with an optional pre selected id Parameters: Name Type Argument Description arr Array of objects label string the Key of the object whoes value will be the text of the option id int &lt;optional&gt; to match ( the initial value) idfield string &lt;optional&gt; The field name for when the record set has a nonstandard id &lt;inner&gt; buildTable(rowDef, data, target, tableId [, paginationObject] [, paginationClickFunction]) Builds a table based upon a table definition object using data Parameters: Name Type Argument Description rowDef Array an array of column definitions data Array and array of data objects target Object | string a dom reference where the Table will reside tableId String is dom Id that you want to give your table (so you can reference it later on paginationObject Object &lt;optional&gt; an pagination object {offset:1,limit,10,total_rows:200} paginationClickFunction function &lt;optional&gt; the function that is going to run as a result of the button being clicked &lt;inner&gt; buildTableHeader(rowDef, headerTr, sortHeaderClass) Builds the table header based on the rowDef object passed to it. If the rowDef header.sortField property exists it adds fontawsome icons and a click event that triggers a header sort event on the table. This event sends two addtional parameters (apart from the event) they are: the targets data-sort-field attribute and the id attribute Parameters: Name Type Description rowDef an array of column definitions headerTr the object it will be attached to sortHeaderClass the class of any headers that need sorting &lt;inner&gt; buildTableRows(rowDef, rows, target [, appendToTable]) Builds table rows based on a row definition, an array containing the row objects, a target (usually the table body) and whether to append it to the table or empty the table contents NB you would usually use the buildTable method that calls this method Parameters: Name Type Argument Description rowDef Object a complex object that defines the content and attributes of each td in the row rows Array containing objects containing name value pairs for each field target string where the returned rows are appended to appendToTable boolean &lt;optional&gt; whether to clear the table (true) or not &lt;inner&gt; doAjax(service, type, address, resultTo [, paramObj] [, waitobjectSelector] [, header], {array) [, useConsole]) General function for sending and receiving via ajax. This could be a REST endpoint or a plain old ajax service relies on bootbox to show errors Parameters: Name Type Argument Description service String The address of the API or end point type String Either GET,POST,PUT,DELETE address String The API endpoint resultTo function Which function to send the results to paramObj Object &lt;optional&gt; An object of key:value pairs waitobjectSelector String &lt;optional&gt; The selector for the wait object (spinner) header Object &lt;optional&gt; Custom headers in the form {'my-custom-header:'header-value'} {array) [passedArgs] arguments that dont get sent to the server but are needed for the results useConsole boolean &lt;optional&gt; true to supress use of bootbox To Do: we should remove bootbox dependency here &lt;inner&gt; extractValuesByKey(arr, key) Takes an array of objects and outputs an array of values for a key in each object Parameters: Name Type Description arr Array array of objects key string can be a simple key or an expression such as key.subkey Returns: straight array of values Type Array Examples extractValuesByKey([{firstname:'Alice',lastname:'Bear'},{firstname:'Steve',lastname:'Farr'}] , 'firstname') // outputs ['Alice','Steve'] //it can do nested object keys extractValuesByKey([{firstname:'Alice',email:{public:'alice@acme.com',private:'alice@hotmail.com'},{firstname:'Steve',email:{public:'steve@acme.com',private:'steve@hotmail.com'}],'email.public') //becomes ['alice@acme.com','steve@acme.com'] &lt;inner&gt; findRowBykey(arr, key, val) Returns a row from an array of rows given a field key and a value for that key Parameters: Name Type Description arr Array The array we are going to search key string The key we are going to use to try to match the value val * The value we are going to match against Returns: Type array &lt;inner&gt; formatDateAsDaysSince(datestring [, withtitle]) This method takes a date string (2015-03-14 15:36:01) or null and returrns either a pretty sting such as Just now or n Days ago. If you pass it a second boolean argument it will return a span with the orginal value as the title attribute (so that a user can see the exact date and time on a hover Parameters: Name Type Argument Description datestring string In the currrent format 2015-03-14 15:36:01 withtitle boolean &lt;optional&gt; If you want Returns: Either string with the pretty date or a span with the same and a title attribute that has value of passed string Type * &lt;inner&gt; nl2br(str) Converts the line breaks in a string into br tags Parameters: Name Type Description str string the sting that you want to convert &lt;inner&gt; parseArguments(row, fields) Prepares the arguments for a function Argument objects with a type of 'lookup' will return the value found in the row object (if there is one) Other arguments are just added to the array that is returned. Parameters: Name Type Description row object a record containing data fields Array {type:'lookup':value:'fieldname',type:'literal',value:123} Returns: to be used as the second argument in func.apply(this, returedFromparseArguments) Type Array &lt;inner&gt; setTableOrder(controller, controllerClass, orderObj, orderDefaultObj) Acts on the passed orderObj which in turn updates the status of the UI (TH tag passed in by id reference) The orderObj is a singular objectthis is passed to the search method to achive sort order. Parameters: Name Type Description controller string The id of the clicked object controllerClass string one for each table on a page orderObj Object consists of field (in the db), controller (the id of the TH) and direction (either DESC or ASC) orderDefaultObj Object is structured as the orderObj but contains default sort properties. To Do: inergrate into buildTable - at the moment orderObj is passed in from the invoking code &lt;inner&gt; toggleIcon(button [, status] [, label]) This method controls a bootstrap button with a glyphicon or fontawsome icon to toggle. The button needs two special attributes data-icon-1 and data-icon-2 each of these attributes contains the classname for their respective icon. You can force it to be in one state or another by passing the status argument You can pass it a label Parameters: Name Type Argument Description button Object The button object status boolean &lt;optional&gt; Allows us to set the status of a button. True label string &lt;optional&gt; Allows you to change the text of the button × Search results Close Documentation generated by JSDoc 3.5.5 on September 28th 2017, 2:33:15 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
